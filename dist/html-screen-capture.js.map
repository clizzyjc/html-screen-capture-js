{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5dc9d3e1ef0c19b1a043","webpack:///./src/output-type-enum.js","webpack:///./src/index.js","webpack:///./src/capturer.js","webpack:///./src/logger.js","webpack:///./src/encoder.js"],"names":["OutputTypeEnum","OBJECT","STRING","URI","BASE64","capture","OutputType","outputType","htmlDocument","options","Capturer","_logger","_isHead","_classMap","_classCount","_shouldHandleImgDataUrl","_canvas","_ctx","_doc","_options","tagsOfIgnoredDocHeadElements","tagsOfIgnoredDocBodyElements","classesOfIgnoredDocBodyElements","attrKeyValuePairsOfIgnoredElements","tagsOfSkippedElementsForChildTreeCssHandling","attrKeyForSavingElementOrigClass","attrKeyForSavingElementOrigStyle","prefixForNewGeneratedClasses","imageFormatForDataUrl","imageQualityForDataUrl","rulesToAddToDocStyle","def","hasOwnProperty","canvasElm","canvasDataUrl","toDataURL","ex","warn","message","imgElm","imgDataUrl","createElement","getContext","width","clientWidth","height","clientHeight","drawImage","_getCanvasDataUrl","domElm","classes","className","SVGAnimatedString","baseVal","classNames","split","forEach","c","push","newElm","_getClasses","length","setAttribute","_getClassName","removeAttribute","getAttribute","computedStyle","getComputedStyle","classStr","i","property","item","value","getBoundingClientRect","getPropertyValue","mapKey","tagName","trim","newHtml","style","type","cssText","join","styleSheet","appendChild","createTextNode","children","shouldRemoveElm","indexOf","toLowerCase","attrKey","attributes","specified","domElmClasses","handleCss","_getImgDataUrl","outerHTML","replace","_handleElmValue","_handleElmCss","_shouldIgnoreElm","removeChild","_recursiveWalk","documentElement","cloneNode","newHead","head","newBody","body","_createNewHtml","_appendNewHead","_appendNewBody","_appendNewStyle","newHtmlObject","output","outputTypeEnum","outerHtml","uriEncode","base64Encode","isDebug","debug","startTime","Date","getTime","_overrideOptions","document","setLogLevel","logLevel","info","_getHtmlObject","_prepareOutput","error","Logger","_logLevelNames","init","_logLevel","levelName","msg","console","log","_log","Encoder","str","utfText","n","charCodeAt","String","fromCharCode","keyStr","chr1","chr2","chr3","enc1","enc2","enc3","enc4","_utf8_encode","isNaN","charAt","encodeURI"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;IC7DqBA,c,GACpB,0BAAc;AAAA;;AACb,MAAKC,MAAL,GAAc,QAAd;AACA,MAAKC,MAAL,GAAc,QAAd;AACA,MAAKC,GAAL,GAAY,KAAZ;AACA,MAAKC,MAAL,GAAc,QAAd;AACA,C;;kBANmBJ,c;;;;;;;;;;;;;;QCKLK,O,GAAAA,O;;AALhB;;;;AACA;;;;;;AAEO,IAAMC,kCAAa,8BAAnB;;AAEA,SAASD,OAAT,CAAiBE,UAAjB,EAA6BC,YAA7B,EAA2CC,OAA3C,EAAoD;AAC1D,QAAQ,wBAAD,CAAiBJ,OAAjB,CAAyBE,UAAzB,EAAqCC,YAArC,EAAmDC,OAAnD,CAAP;AACA,C;;;;;;;;;;;;;;;ACPD;;;;AACA;;;;AACA;;;;;;;;IAEqBC,Q;AACpB,qBAAc;AAAA;;AACb,OAAKC,OAAL,GAAe,sBAAf;AACA,OAAKC,OAAL,GAAe,IAAf;AACA,OAAKC,SAAL,GAAiB,EAAjB;AACA,OAAKC,WAAL,GAAmB,CAAnB;AACA,OAAKC,uBAAL,GAA+B,IAA/B;AACA,OAAKC,OAAL,GAAe,IAAf;AACA,OAAKC,IAAL,GAAY,IAAZ;AACA,OAAKC,IAAL,GAAY,IAAZ;AACA,OAAKC,QAAL,GAAgB;AACfC,iCAA8B,CAAC,QAAD,EAAW,MAAX,EAAmB,OAAnB,CADf;AAEfC,iCAA8B,CAAC,QAAD,CAFf;AAGfC,oCAAiC,EAHlB;AAIfC,uCAAoC,EAJrB;AAKfC,iDAA8C,CAAC,KAAD,CAL/B;AAMfC,qCAAkC,QANnB;AAOfC,qCAAkC,QAPnB;AAQfC,iCAA8B,GARf;AASfC,0BAAuB,WATR;AAUfC,2BAAwB,IAVT;AAWfC,yBAAsB;AAXP,GAAhB;AAaA;;;;mCACgBrB,O,EAAS;AACzB,OAAIA,OAAJ,EAAa;AACZ,SAAK,IAAIsB,GAAT,IAAgBtB,OAAhB,EAAyB;AACxB,SAAIA,QAAQuB,cAAR,CAAuBD,GAAvB,CAAJ,EAAiC;AAChC,WAAKZ,QAAL,CAAcY,GAAd,IAAqBtB,QAAQsB,GAAR,CAArB;AACA;AACD;AACD;AACD;;;oCACiBE,S,EAAW;AAC5B,OAAIC,gBAAgB,EAApB;AACA,OAAI;AACHA,oBAAgBD,UAAUE,SAAV,CAAoB,KAAKhB,QAAL,CAAcS,qBAAlC,EAAyD,KAAKT,QAAL,CAAcU,sBAAvE,CAAhB;AACA,IAFD,CAEE,OAAMO,EAAN,EAAU;AACX,SAAKzB,OAAL,CAAa0B,IAAb,2BAA0CD,GAAGE,OAA7C;AACA;AACD,UAAOJ,aAAP;AACA;;;iCACcK,M,EAAQ;AACtB,OAAIC,aAAa,EAAjB;AACA,OAAI;AACH,QAAI,CAAC,KAAKxB,OAAV,EAAmB;AAClB,UAAKA,OAAL,GAAe,KAAKE,IAAL,CAAUuB,aAAV,CAAwB,QAAxB,CAAf;AACA,UAAKxB,IAAL,GAAY,KAAKD,OAAL,CAAa0B,UAAb,CAAwB,IAAxB,CAAZ;AACA;AACD,SAAK1B,OAAL,CAAa2B,KAAb,GAAqBJ,OAAOK,WAA5B;AACA,SAAK5B,OAAL,CAAa6B,MAAb,GAAsBN,OAAOO,YAA7B;AACA,SAAK7B,IAAL,CAAU8B,SAAV,CAAoBR,MAApB,EAA4B,CAA5B,EAA+B,CAA/B;AACAC,iBAAa,KAAKQ,iBAAL,CAAuB,KAAKhC,OAA5B,CAAb;AACA,IATD,CASE,OAAMoB,EAAN,EAAU;AACX,SAAKzB,OAAL,CAAa0B,IAAb,wBAAuCD,GAAGE,OAA1C;AACA,SAAKvB,uBAAL,GAA+B,KAA/B;AACA;AACD,UAAOyB,UAAP;AACA;;;8BACWS,M,EAAQ;AACnB,OAAMC,UAAU,EAAhB;AACA,OAAMC,YAAYF,OAAOE,SAAP,YAA4BC,iBAA5B,GAAgDH,OAAOE,SAAP,CAAiBE,OAAjE,GAA2EJ,OAAOE,SAApG;AACA,OAAIA,SAAJ,EAAe;AACd,QAAMG,aAAaH,UAAUI,KAAV,CAAgB,GAAhB,CAAnB;AACAD,eAAWE,OAAX,CAAmB,aAAK;AACvB,SAAIC,CAAJ,EAAO;AACNP,cAAQQ,IAAR,CAAaD,CAAb;AACA;AACD,KAJD;AAKA;AACD,UAAOP,OAAP;AACA;;;gCAKaD,M,EAAQU,M,EAAQ;AAC7B,OAAI,KAAKC,WAAL,CAAiBD,MAAjB,EAAyBE,MAAzB,GAAkC,CAAtC,EAAyC;AACxC,QAAI,KAAK1C,QAAL,CAAcM,gCAAlB,EAAoD;AACnDkC,YAAOG,YAAP,CAAoB,KAAK3C,QAAL,CAAcM,gCAAlC,EAAoEf,SAASqD,aAAT,CAAuBJ,MAAvB,CAApE;AACA;AACDA,WAAOK,eAAP,CAAuB,OAAvB;AACA;AACD,OAAIL,OAAOM,YAAP,CAAoB,OAApB,CAAJ,EAAkC;AACjC,QAAI,KAAK9C,QAAL,CAAcO,gCAAlB,EAAoD;AACnDiC,YAAOG,YAAP,CAAoB,KAAK3C,QAAL,CAAcO,gCAAlC,EAAoEiC,OAAOM,YAAP,CAAoB,OAApB,CAApE;AACA;AACDN,WAAOK,eAAP,CAAuB,OAAvB;AACA;AACD,OAAME,gBAAgBC,iBAAiBlB,MAAjB,CAAtB;AACA,OAAImB,WAAW,EAAf;AACA,QAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,cAAcL,MAAlC,EAA0CQ,GAA1C,EAA+C;AAC9C,QAAMC,WAAWJ,cAAcK,IAAd,CAAmBF,CAAnB,CAAjB;AACA,QAAIG,QAAQF,YAAY,QAAZ,GAAuBrB,OAAOwB,qBAAP,GAA+B5B,MAAtD,GAA6DqB,cAAcQ,gBAAd,CAA+BJ,QAA/B,CAAzE;AACA,QAAMK,SAASL,WAAW,GAAX,GAAiBE,KAAhC;AACA,QAAIrB,YAAY,KAAKtC,SAAL,CAAe8D,MAAf,CAAhB;AACA,QAAI,CAACxB,SAAL,EAAgB;AACf,UAAKrC,WAAL;AACAqC,iBAAY,CAAC,KAAKhC,QAAL,CAAcQ,4BAAd,GAA6C,KAAKR,QAAL,CAAcQ,4BAA3D,GAA0F,GAA3F,IAAkG,KAAKb,WAAnH;AACA,UAAKD,SAAL,CAAe8D,MAAf,IAAyBxB,SAAzB;AACA;AACD,QAAK,CAAEF,OAAO2B,OAAP,IAAkB,IAAlB,IAA0BJ,QAAQ,EAAnC,IAA2CvB,OAAO2B,OAAP,IAAkB,IAA7D,IAAsE3B,OAAO2B,OAAP,IAAkB,KAAlB,IAA2BJ,QAAQ,EAAzG,IAAgHvB,OAAO2B,OAAP,IAAkB,MAAlB,IAA4BJ,QAAQ,EAArJ,KAA6JF,YAAY,QAA9K,EAAuL;AACtL,YAAO,KAAKzD,SAAL,CAAe8D,MAAf,CAAP;AACA,KAFD,MAEM;AACLP,iBAAajB,YAAY,GAAzB;AACA;AACD;AACD,OAAIiB,QAAJ,EAAc;AACbT,WAAOG,YAAP,CAAoB,OAApB,EAA6BM,SAASS,IAAT,EAA7B;AACA;AACD;;;kCAeeC,O,EAAS;AACxB,OAAMC,QAAQ,KAAK7D,IAAL,CAAUuB,aAAV,CAAwB,OAAxB,CAAd;AACAsC,SAAMC,IAAN,GAAa,UAAb;AACA,OAAIC,UAAU,KAAK9D,QAAL,CAAcW,oBAAd,GAAqC,KAAKX,QAAL,CAAcW,oBAAd,CAAmCoD,IAAnC,CAAwC,EAAxC,CAArC,GAAmF,EAAjG;AACA,QAAK,IAAInD,GAAT,IAAgB,KAAKlB,SAArB,EAAgC;AAC/B,QAAI,KAAKA,SAAL,CAAemB,cAAf,CAA8BD,GAA9B,CAAJ,EAAwC;AACvCkD,gBAAY,MAAM,KAAKpE,SAAL,CAAekB,GAAf,CAAN,GAA4B,GAA5B,GAAkCA,GAAlC,GAAwC,GAApD;AACA;AACD;AACD,OAAIgD,MAAMI,UAAV,EAAsB;AACrBJ,UAAMI,UAAN,CAAiBF,OAAjB,GAA2BA,OAA3B;AACA,IAFD,MAEO;AACNF,UAAMK,WAAN,CAAkB,KAAKlE,IAAL,CAAUmE,cAAV,CAAyBJ,OAAzB,CAAlB;AACA;AACDH,WAAQQ,QAAR,CAAiB,CAAjB,EAAoBF,WAApB,CAAgCL,KAAhC;AACA;;;mCACgB9B,M,EAAQ;AAAA;;AACxB,OAAIsC,kBAAkB,KAAtB;AACA,OAAI,KAAK3E,OAAL,IAAgB,KAAKO,QAAL,CAAcC,4BAA9B,IAA8D,KAAKD,QAAL,CAAcC,4BAAd,CAA2CoE,OAA3C,CAAmDvC,OAAO2B,OAAP,CAAea,WAAf,EAAnD,IAAmF,CAAC,CAAlJ,IACJ,CAAC,KAAK7E,OAAN,IAAiB,KAAKO,QAAL,CAAcE,4BAA/B,IAA+D,KAAKF,QAAL,CAAcE,4BAAd,CAA2CmE,OAA3C,CAAmDvC,OAAO2B,OAAP,CAAea,WAAf,EAAnD,IAAmF,CAAC,CADnJ,EACsJ;AACrJF,sBAAkB,IAAlB;AACA;AACD,OAAI,CAACA,eAAD,IAAoB,KAAKpE,QAAL,CAAcI,kCAAtC,EAA0E;AACzE,SAAK,IAAImE,OAAT,IAAoB,KAAKvE,QAAL,CAAcI,kCAAlC,EAAsE;AACrE,SAAI,KAAKJ,QAAL,CAAcI,kCAAd,CAAiDS,cAAjD,CAAgE0D,OAAhE,CAAJ,EAA8E;AAC7E,WAAK,IAAIrB,IAAI,CAAb,EAAgBA,IAAIpB,OAAO0C,UAAP,CAAkB9B,MAAtC,EAA8CQ,GAA9C,EAAmD;AAClD,WAAIpB,OAAO0C,UAAP,CAAkBtB,CAAlB,EAAqBuB,SAArB,IAAkC3C,OAAO0C,UAAP,CAAkBtB,CAAlB,EAAqBG,KAArB,KAA+B,KAAKrD,QAAL,CAAcI,kCAAd,CAAiDmE,OAAjD,CAArE,EAAgI;AAC/HH,0BAAkB,IAAlB;AACA;AACD;AACD;AACD;AACD;AACD,OAAI,CAACA,eAAD,IAAoB,CAAC,KAAK3E,OAA1B,IAAqC,KAAKO,QAAL,CAAcG,+BAAvD,EAAwF;AACvF,QAAMuE,gBAAgB,KAAKjC,WAAL,CAAiBX,MAAjB,CAAtB;AACA4C,kBAAcrC,OAAd,CAAsB,aAAK;AAC1B,SAAI,CAAC+B,eAAD,IAAoB,MAAKpE,QAAL,CAAcG,+BAAd,CAA8CkE,OAA9C,CAAsD/B,CAAtD,IAA2D,CAAC,CAApF,EAAuF;AACtF8B,wBAAkB,IAAlB;AACA;AACD,KAJD;AAKA;AACD,UAAOA,eAAP;AACA;;;iCACctC,M,EAAQU,M,EAAQmC,S,EAAW;AACzC,OAAI,KAAK/E,uBAAL,IAAgC,CAAC,KAAKH,OAAtC,IAAiDqC,OAAO2B,OAAP,CAAea,WAAf,OAAiC,KAAtF,EAA6F;AAC5F,QAAMjD,aAAa,KAAKuD,cAAL,CAAoB9C,MAApB,CAAnB;AACA,QAAIT,UAAJ,EAAgB;AACfmB,YAAOG,YAAP,CAAoB,KAApB,EAA2BtB,UAA3B;AACA;AACD;AACD,OAAI,CAAC,KAAK5B,OAAN,IAAiBqC,OAAO2B,OAAP,CAAea,WAAf,OAAiC,QAAtD,EAAgE;AAC/D,QAAMvD,gBAAgB,KAAKc,iBAAL,CAAuBC,MAAvB,CAAtB;AACA,QAAIf,aAAJ,EAAmB;AAClByB,YAAOG,YAAP,CAAoB,KAApB,EAA2B5B,aAA3B;AACA;AACDyB,WAAOqC,SAAP,GAAmBrC,OAAOqC,SAAP,CAAiBC,OAAjB,CAAyB,UAAzB,EAAqC,MAArC,CAAnB;AACA;AACD,OAAIhD,OAAOuB,KAAX,EAAkB;AACjB9D,aAASwF,eAAT,CAAyBjD,MAAzB,EAAiCU,MAAjC;AACA;AACD,OAAImC,SAAJ,EAAe;AACd,SAAKK,aAAL,CAAmBlD,MAAnB,EAA2BU,MAA3B;AACA,QAAI,KAAKxC,QAAL,CAAcK,4CAAd,IAA8D,KAAKL,QAAL,CAAcK,4CAAd,CAA2DgE,OAA3D,CAAmEvC,OAAO2B,OAAP,CAAea,WAAf,EAAnE,IAAmG,CAAC,CAAtK,EAAyK;AACxKK,iBAAY,KAAZ;AACA;AACD;AACD,OAAI7C,OAAOqC,QAAX,EAAqB;AACpB,SAAK,IAAIjB,IAAIpB,OAAOqC,QAAP,CAAgBzB,MAAhB,GAAyB,CAAtC,EAAyCQ,KAAK,CAA9C,EAAiDA,GAAjD,EAAsD;AACrD,SAAI,KAAK+B,gBAAL,CAAsBnD,OAAOqC,QAAP,CAAgBjB,CAAhB,CAAtB,CAAJ,EAA+C;AAC9CV,aAAO0C,WAAP,CAAmB1C,OAAO2B,QAAP,CAAgBjB,CAAhB,CAAnB;AACA,MAFD,MAEO;AACN,WAAKiC,cAAL,CAAoBrD,OAAOqC,QAAP,CAAgBjB,CAAhB,CAApB,EAAwCV,OAAO2B,QAAP,CAAgBjB,CAAhB,CAAxC,EAA4DyB,SAA5D;AACA;AACD;AACD;AACD;;;mCACgB;AAChB,OAAMhB,UAAU,KAAK5D,IAAL,CAAUqF,eAAV,CAA0BC,SAA1B,CAAoC,KAApC,CAAhB;AACA,QAAKL,aAAL,CAAmB,KAAKjF,IAAL,CAAUqF,eAA7B,EAA8CzB,OAA9C;AACA,UAAOA,OAAP;AACA;;;iCACcA,O,EAAS;AACvB,OAAM2B,UAAU,KAAKvF,IAAL,CAAUwF,IAAV,CAAeF,SAAf,CAAyB,IAAzB,CAAhB;AACA,QAAK5F,OAAL,GAAe,IAAf;AACA,QAAK0F,cAAL,CAAoB,KAAKpF,IAAL,CAAUwF,IAA9B,EAAoCD,OAApC,EAA6C,KAA7C;AACA3B,WAAQM,WAAR,CAAoBqB,OAApB;AACA;;;iCACc3B,O,EAAS;AACvB,OAAM6B,UAAU,KAAKzF,IAAL,CAAU0F,IAAV,CAAeJ,SAAf,CAAyB,IAAzB,CAAhB;AACA,QAAK5F,OAAL,GAAe,KAAf;AACA,QAAK0F,cAAL,CAAoB,KAAKpF,IAAL,CAAU0F,IAA9B,EAAoCD,OAApC,EAA6C,IAA7C;AACA7B,WAAQM,WAAR,CAAoBuB,OAApB;AACA;;;mCACgB;AAChB,OAAM7B,UAAU,KAAK+B,cAAL,EAAhB;AACA,QAAKC,cAAL,CAAoBhC,OAApB;AACA,QAAKiC,cAAL,CAAoBjC,OAApB;AACA,QAAKkC,eAAL,CAAqBlC,OAArB;AACA,UAAOA,OAAP;AACA;;;iCACcmC,a,EAAe1G,U,EAAY;AACzC,OAAI2G,SAAS,IAAb;AACA,OAAMC,iBAAiB,8BAAvB;AACA,OAAI,CAAC5G,UAAD,IAAgBA,WAAWkF,WAAX,OAA6B0B,eAAelH,MAAhE,EAAyE;AACxEiH,aAASD,aAAT;AACA,IAFD,MAEO;AACN,QAAMG,YAAY,CAACH,gBAAiBA,cAAcjB,SAA/B,GAA4C,EAA7C,KAAoD,EAAtE;AACA,QAAIoB,SAAJ,EAAe;AACd,SAAI7G,WAAWkF,WAAX,OAA6B0B,eAAejH,MAAhD,EAAwD;AACvDgH,eAASE,SAAT;AACA,MAFD,MAEO,IAAI7G,WAAWkF,WAAX,OAA6B0B,eAAehH,GAAhD,EAAqD;AAC3D+G,eAAS,kBAAQG,SAAR,CAAkBD,SAAlB,CAAT;AACA,MAFM,MAEA,IAAI7G,WAAWkF,WAAX,OAA6B0B,eAAe/G,MAAhD,EAAwD;AAC9D8G,eAAS,kBAAQI,YAAR,CAAqBF,SAArB,CAAT;AACA;AACD;AACDF,aAASA,UAAU,EAAnB;AACA;AACD,OAAI,KAAKvG,OAAL,CAAa4G,OAAb,EAAJ,EAA4B;AAC3B,SAAK5G,OAAL,CAAa6G,KAAb,eAA8BN,OAAOlB,SAAP,GAAmBkB,OAAOlB,SAA1B,GAAsCkB,MAApE;AACA;AACD,UAAOA,MAAP;AACA;;;0BACO3G,U,EAAYC,Y,EAAcC,O,EAAS;AAC1C,OAAIyG,SAAS,IAAb;AACA,OAAMO,YAAa,IAAIC,IAAJ,EAAD,CAAaC,OAAb,EAAlB;AACA,OAAI;AACH,SAAKC,gBAAL,CAAsBnH,OAAtB;AACA,SAAKS,IAAL,GAAYV,gBAAgBqH,QAA5B;AACA,SAAKlH,OAAL,CAAamH,WAAb,CAAyB,KAAK3G,QAAL,CAAc4G,QAAvC;AACA,SAAKpH,OAAL,CAAaqH,IAAb,4BAA2CzH,UAA3C;AACA,QAAM0G,gBAAgB,KAAKgB,cAAL,EAAtB;AACAf,aAAS,KAAKgB,cAAL,CAAoBjB,aAApB,EAAmC1G,UAAnC,CAAT;AACA,IAPD,CAOE,OAAM6B,EAAN,EAAU;AACX,SAAKzB,OAAL,CAAawH,KAAb,0BAA0C/F,GAAGE,OAA7C;AACA,IATD,SASU;AACT,SAAK3B,OAAL,CAAaqH,IAAb,yBAAwC,IAAIN,IAAJ,EAAD,CAAaC,OAAb,KAAyBF,SAAhE;AACA;AACD,UAAOP,MAAP;AACA;;;gCAhMoBjE,M,EAAQ;AAC5B,OAAMC,UAAUD,OAAOE,SAAvB;AACA,UAAOD,mBAAmBE,iBAAnB,GAAuCF,QAAQG,OAA/C,GAAyDH,OAAhE;AACA;;;kCAoCsBD,M,EAAQU,M,EAAQ;AACtC,OAAIV,OAAO2B,OAAP,CAAea,WAAf,OAAiC,OAAjC,IAA4CxC,OAAOgB,YAAP,CAAoB,MAApB,MAAgC,MAAhF,EAAwF;AACvFN,WAAOG,YAAP,CAAoB,OAApB,EAA6Bb,OAAOuB,KAApC;AACA,IAFD,MAEO,IAAIvB,OAAO2B,OAAP,CAAea,WAAf,OAAiC,QAAjC,IAA6CxC,OAAOqC,QAAxD,EAAkE;AACxE3B,WAAOG,YAAP,CAAoB,OAApB,EAA6Bb,OAAOuB,KAApC;AACA,SAAK,IAAIH,IAAIpB,OAAOqC,QAAP,CAAgBzB,MAAhB,GAAyB,CAAtC,EAAyCQ,KAAK,CAA9C,EAAiDA,GAAjD,EAAsD;AACrD,SAAIpB,OAAOqC,QAAP,CAAgBjB,CAAhB,EAAmBJ,YAAnB,CAAgC,OAAhC,MAA6ChB,OAAOuB,KAAxD,EAA+D;AAC9Db,aAAO2B,QAAP,CAAgBjB,CAAhB,EAAmBP,YAAnB,CAAgC,UAAhC,EAA4C,EAA5C;AACA,MAFD,MAEO;AACNH,aAAO2B,QAAP,CAAgBjB,CAAhB,EAAmBL,eAAnB,CAAmC,UAAnC;AACA;AACD;AACD;AACD;;;;;;kBA5HmBtD,Q;;;;;;;;;;;;;;;;;;ICJA0H,M;AACpB,mBAAc;AAAA;;AACb,OAAKC,cAAL,GAAsB,CAAC,OAAD,EAAU,MAAV,EAAkB,MAAlB,EAA0B,OAA1B,EAAmC,OAAnC,EAA4C,KAA5C,CAAtB;AACA,OAAKC,IAAL;AACA;;;;yBACM;AACN,QAAKC,SAAL,GAAiB,KAAKF,cAAL,CAAoB7C,OAApB,CAA4B,MAA5B,CAAjB;AACA;;;8BACWgD,S,EAAW;AACtB,OAAIA,aAAc,KAAKH,cAAL,CAAoB7C,OAApB,CAA4BgD,UAAU/C,WAAV,EAA5B,MAAyD,CAAC,CAA5E,EAAgF;AAC/E,SAAK8C,SAAL,GAAiB,KAAKF,cAAL,CAAoB7C,OAApB,CAA4BgD,UAAU/C,WAAV,EAA5B,CAAjB;AACA;AACD;;;uBACIgD,G,EAAKD,S,EAAW;AACpB,OAAI,KAAKD,SAAL,IAAkB,KAAKF,cAAL,CAAoB7C,OAApB,CAA4BgD,SAA5B,CAAtB,EAA8D;AAC7DE,YAAQC,GAAR,CAAY,6BAA6BH,SAA7B,GAAyC,IAAzC,GAAgDC,GAA5D;AACA;AACD;;;4BACS;AACT,UAAO,KAAKF,SAAL,KAAmB,KAAKF,cAAL,CAAoB7C,OAApB,CAA4B,OAA5B,CAA1B;AACA;;;wBACKiD,G,EAAK;AACV,QAAKG,IAAL,CAAUH,GAAV,EAAe,OAAf;AACA;;;uBACIA,G,EAAK;AACT,QAAKG,IAAL,CAAUH,GAAV,EAAe,MAAf;AACA;;;uBACIA,G,EAAK;AACT,QAAKG,IAAL,CAAUH,GAAV,EAAe,MAAf;AACA;;;wBACKA,G,EAAK;AACV,QAAKG,IAAL,CAAUH,GAAV,EAAe,OAAf;AACA;;;wBACKA,G,EAAK;AACV,QAAKG,IAAL,CAAUH,GAAV,EAAe,OAAf;AACA;;;;;;kBAnCmBL,M;;;;;;;;;;;;;;;;;;ICAAS,O;AACpB,oBAAc;AAAA;AACb;;;;+BACmBC,G,EAAK;AACxBA,SAAMA,IAAI7C,OAAJ,CAAY,OAAZ,EAAoB,IAApB,CAAN;AACA,OAAI8C,UAAU,EAAd;AACA,QAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,IAAIjF,MAAxB,EAAgCmF,GAAhC,EAAqC;AACpC,QAAMvF,IAAIqF,IAAIG,UAAJ,CAAeD,CAAf,CAAV;AACA,QAAIvF,IAAI,GAAR,EAAa;AACZsF,gBAAWG,OAAOC,YAAP,CAAoB1F,CAApB,CAAX;AACA,KAFD,MAEO,IAAIA,IAAI,GAAL,IAAcA,IAAI,IAArB,EAA4B;AAClCsF,gBAAWG,OAAOC,YAAP,CAAqB1F,KAAK,CAAN,GAAW,GAA/B,CAAX;AACAsF,gBAAWG,OAAOC,YAAP,CAAqB1F,IAAI,EAAL,GAAW,GAA/B,CAAX;AACA,KAHM,MAGA;AACNsF,gBAAWG,OAAOC,YAAP,CAAqB1F,KAAK,EAAN,GAAY,GAAhC,CAAX;AACAsF,gBAAWG,OAAOC,YAAP,CAAsB1F,KAAK,CAAN,GAAW,EAAZ,GAAkB,GAAtC,CAAX;AACAsF,gBAAWG,OAAOC,YAAP,CAAqB1F,IAAI,EAAL,GAAW,GAA/B,CAAX;AACA;AACD;AACD,UAAOsF,OAAP;AACA;;;+BACmBD,G,EAAK;AACxB,OAAI5B,SAAS,EAAb;AACA,OAAMkC,SAAS,mEAAf;AACA,OAAIC,aAAJ;AAAA,OAAUC,aAAV;AAAA,OAAgBC,aAAhB;AAAA,OAAsBC,aAAtB;AAAA,OAA4BC,aAA5B;AAAA,OAAkCC,aAAlC;AAAA,OAAwCC,aAAxC;AACA,OAAItF,IAAI,CAAR;AACAyE,SAAMD,QAAQe,YAAR,CAAqBd,GAArB,CAAN;AACA,UAAOzE,IAAIyE,IAAIjF,MAAf,EAAuB;AACtBwF,WAAOP,IAAIG,UAAJ,CAAe5E,GAAf,CAAP;AACAiF,WAAOR,IAAIG,UAAJ,CAAe5E,GAAf,CAAP;AACAkF,WAAOT,IAAIG,UAAJ,CAAe5E,GAAf,CAAP;AACAmF,WAAOH,QAAQ,CAAf;AACAI,WAAQ,CAACJ,OAAO,CAAR,KAAc,CAAf,GAAqBC,QAAQ,CAApC;AACAI,WAAQ,CAACJ,OAAO,EAAR,KAAe,CAAhB,GAAsBC,QAAQ,CAArC;AACAI,WAAOJ,OAAO,EAAd;AACA,QAAIM,MAAMP,IAAN,CAAJ,EAAiB;AAChBI,YAAOC,OAAO,EAAd;AACA,KAFD,MAEO,IAAIE,MAAMN,IAAN,CAAJ,EAAiB;AACvBI,YAAO,EAAP;AACA;AACDzC,aAASA,SAASkC,OAAOU,MAAP,CAAcN,IAAd,CAAT,GAA+BJ,OAAOU,MAAP,CAAcL,IAAd,CAA/B,GAAqDL,OAAOU,MAAP,CAAcJ,IAAd,CAArD,GAA2EN,OAAOU,MAAP,CAAcH,IAAd,CAApF;AACA;AACD,UAAOzC,MAAP;AACA;;;4BACgB4B,G,EAAK;AACrB,UAAO,CAACA,MAAMiB,UAAUjB,GAAV,CAAN,GAAuB,EAAxB,KAA+B,EAAtC;AACA;;;;;;kBA9CmBD,O","file":"html-screen-capture.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"htmlScreenCaptureJs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"htmlScreenCaptureJs\"] = factory();\n\telse\n\t\troot[\"htmlScreenCaptureJs\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5dc9d3e1ef0c19b1a043","export default class OutputTypeEnum {\r\n\tconstructor() {\r\n\t\tthis.OBJECT = 'object';\r\n\t\tthis.STRING = 'string';\r\n\t\tthis.URI \t= 'uri';\r\n\t\tthis.BASE64 = 'base64';\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/output-type-enum.js","import OutputTypeEnum from './output-type-enum';\r\nimport Capturer from './capturer';\r\n\r\nexport const OutputType = new OutputTypeEnum();\r\n\r\nexport function capture(outputType, htmlDocument, options) {\r\n\treturn (new Capturer()).capture(outputType, htmlDocument, options);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Logger from './logger';\r\nimport Encoder from './encoder';\r\nimport OutputTypeEnum from './output-type-enum';\r\n\r\nexport default class Capturer {\r\n\tconstructor() {\r\n\t\tthis._logger = new Logger();\r\n\t\tthis._isHead = true;\r\n\t\tthis._classMap = {};\r\n\t\tthis._classCount = 0;\r\n\t\tthis._shouldHandleImgDataUrl = true;\r\n\t\tthis._canvas = null;\r\n\t\tthis._ctx = null;\r\n\t\tthis._doc = null;\r\n\t\tthis._options = {\r\n\t\t\ttagsOfIgnoredDocHeadElements: ['script', 'link', 'style'],\r\n\t\t\ttagsOfIgnoredDocBodyElements: ['script'],\r\n\t\t\tclassesOfIgnoredDocBodyElements: [],\r\n\t\t\tattrKeyValuePairsOfIgnoredElements: {},\r\n\t\t\ttagsOfSkippedElementsForChildTreeCssHandling: ['svg'],\r\n\t\t\tattrKeyForSavingElementOrigClass: '_class',\r\n\t\t\tattrKeyForSavingElementOrigStyle: '_style',\r\n\t\t\tprefixForNewGeneratedClasses: 'c',\r\n\t\t\timageFormatForDataUrl: 'image/png',\r\n\t\t\timageQualityForDataUrl: 0.92,\r\n\t\t\trulesToAddToDocStyle: []\r\n\t\t};\r\n\t}\r\n\t_overrideOptions(options) {\r\n\t\tif (options) {\r\n\t\t\tfor (let def in options) {\r\n\t\t\t\tif (options.hasOwnProperty(def)) {\r\n\t\t\t\t\tthis._options[def] = options[def];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t_getCanvasDataUrl(canvasElm) {\r\n\t\tlet canvasDataUrl = '';\r\n\t\ttry {\r\n\t\t\tcanvasDataUrl = canvasElm.toDataURL(this._options.imageFormatForDataUrl, this._options.imageQualityForDataUrl);\r\n\t\t} catch(ex) {\r\n\t\t\tthis._logger.warn(`getCanvasDataUrl() - ${ex.message}`);\t\t\t\r\n\t\t}\r\n\t\treturn canvasDataUrl;\r\n\t}\r\n\t_getImgDataUrl(imgElm) {\r\n\t\tlet imgDataUrl = '';\r\n\t\ttry {\r\n\t\t\tif (!this._canvas) {\r\n\t\t\t\tthis._canvas = this._doc.createElement('canvas');\r\n\t\t\t\tthis._ctx = this._canvas.getContext('2d');\r\n\t\t\t}\r\n\t\t\tthis._canvas.width = imgElm.clientWidth;\r\n\t\t\tthis._canvas.height = imgElm.clientHeight;\r\n\t\t\tthis._ctx.drawImage(imgElm, 0, 0);\r\n\t\t\timgDataUrl = this._getCanvasDataUrl(this._canvas);\r\n\t\t} catch(ex) {\r\n\t\t\tthis._logger.warn(`getImgDataUrl() - ${ex.message}`);\r\n\t\t\tthis._shouldHandleImgDataUrl = false;\r\n\t\t}\r\n\t\treturn imgDataUrl;\r\n\t}\t\r\n\t_getClasses(domElm) {\r\n\t\tconst classes = [];\r\n\t\tconst className = domElm.className instanceof SVGAnimatedString ? domElm.className.baseVal : domElm.className;\r\n\t\tif (className) {\r\n\t\t\tconst classNames = className.split(' ');\r\n\t\t\tclassNames.forEach(c => {\r\n\t\t\t\tif (c) {\r\n\t\t\t\t\tclasses.push(c);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn classes;\r\n\t}\r\n\tstatic _getClassName(domElm) {\r\n\t\tconst classes = domElm.className;\r\n\t\treturn classes instanceof SVGAnimatedString ? classes.baseVal : classes;\r\n\t}\r\n\t_handleElmCss(domElm, newElm) {\r\n\t\tif (this._getClasses(newElm).length > 0) {\r\n\t\t\tif (this._options.attrKeyForSavingElementOrigClass) {\r\n\t\t\t\tnewElm.setAttribute(this._options.attrKeyForSavingElementOrigClass, Capturer._getClassName(newElm));\r\n\t\t\t}\r\n\t\t\tnewElm.removeAttribute('class');\r\n\t\t}\r\n\t\tif (newElm.getAttribute('style')) {\r\n\t\t\tif (this._options.attrKeyForSavingElementOrigStyle) {\r\n\t\t\t\tnewElm.setAttribute(this._options.attrKeyForSavingElementOrigStyle, newElm.getAttribute('style'));\r\n\t\t\t}\r\n\t\t\tnewElm.removeAttribute('style');\r\n\t\t}\r\n\t\tconst computedStyle = getComputedStyle(domElm);\r\n\t\tlet classStr = '';\r\n\t\tfor (let i = 0; i < computedStyle.length; i++) {\r\n\t\t\tconst property = computedStyle.item(i);\r\n\t\t\tlet value = property == 'height'?  domElm.getBoundingClientRect().height:computedStyle.getPropertyValue(property);\r\n\t\t\tconst mapKey = property + ':' + value;\r\n\t\t\tlet className = this._classMap[mapKey];\r\n\t\t\tif (!className) {\r\n\t\t\t\tthis._classCount++;\r\n\t\t\t\tclassName = (this._options.prefixForNewGeneratedClasses ? this._options.prefixForNewGeneratedClasses : 'c') + this._classCount;\r\n\t\t\t\tthis._classMap[mapKey] = className;\r\n\t\t\t}\r\n\t\t\tif ( ((domElm.tagName == 'TR' && value < 45 ) || domElm.tagName == 'TD' || (domElm.tagName == 'PRE' && value < 45)|| (domElm.tagName == 'SPAN' && value < 45)) && property == 'height'){\r\n\t\t\t\tdelete this._classMap[mapKey];\r\n\t\t\t}else {\r\n\t\t\t\tclassStr += (className + ' ');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (classStr) {\r\n\t\t\tnewElm.setAttribute('class', classStr.trim());\r\n\t\t}\r\n\t}\r\n\tstatic _handleElmValue(domElm, newElm) {\r\n\t\tif (domElm.tagName.toLowerCase() === 'input' && domElm.getAttribute('type') === 'text') {\r\n\t\t\tnewElm.setAttribute('value', domElm.value);\r\n\t\t} else if (domElm.tagName.toLowerCase() === 'select' && domElm.children) {\r\n\t\t\tnewElm.setAttribute('value', domElm.value);\r\n\t\t\tfor (let i = domElm.children.length - 1; i >= 0; i--) {\r\n\t\t\t\tif (domElm.children[i].getAttribute('value') === domElm.value) {\r\n\t\t\t\t\tnewElm.children[i].setAttribute('selected', '');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewElm.children[i].removeAttribute('selected');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t_appendNewStyle(newHtml) {\r\n\t\tconst style = this._doc.createElement('style');\r\n\t\tstyle.type = 'text/css';\r\n\t\tlet cssText = this._options.rulesToAddToDocStyle ? this._options.rulesToAddToDocStyle.join('') : '';\r\n\t\tfor (let def in this._classMap) {\r\n\t\t\tif (this._classMap.hasOwnProperty(def)) {\r\n\t\t\t\tcssText += ('.' + this._classMap[def] + '{' + def + '}');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (style.styleSheet) {\r\n\t\t\tstyle.styleSheet.cssText = cssText;\r\n\t\t} else {\r\n\t\t\tstyle.appendChild(this._doc.createTextNode(cssText));\r\n\t\t}\r\n\t\tnewHtml.children[0].appendChild(style);\r\n\t}\r\n\t_shouldIgnoreElm(domElm) {\r\n\t\tlet shouldRemoveElm = false;\r\n\t\tif (this._isHead && this._options.tagsOfIgnoredDocHeadElements && this._options.tagsOfIgnoredDocHeadElements.indexOf(domElm.tagName.toLowerCase()) > -1 ||\r\n\t\t!this._isHead && this._options.tagsOfIgnoredDocBodyElements && this._options.tagsOfIgnoredDocBodyElements.indexOf(domElm.tagName.toLowerCase()) > -1) {\r\n\t\t\tshouldRemoveElm = true;\r\n\t\t}\r\n\t\tif (!shouldRemoveElm && this._options.attrKeyValuePairsOfIgnoredElements) {\r\n\t\t\tfor (let attrKey in this._options.attrKeyValuePairsOfIgnoredElements) {\r\n\t\t\t\tif (this._options.attrKeyValuePairsOfIgnoredElements.hasOwnProperty(attrKey)) {\r\n\t\t\t\t\tfor (let i = 0; i < domElm.attributes.length; i++) {\r\n\t\t\t\t\t\tif (domElm.attributes[i].specified && domElm.attributes[i].value === this._options.attrKeyValuePairsOfIgnoredElements[attrKey]) {\r\n\t\t\t\t\t\t\tshouldRemoveElm = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!shouldRemoveElm && !this._isHead && this._options.classesOfIgnoredDocBodyElements) {\r\n\t\t\tconst domElmClasses = this._getClasses(domElm);\r\n\t\t\tdomElmClasses.forEach(c => {\r\n\t\t\t\tif (!shouldRemoveElm && this._options.classesOfIgnoredDocBodyElements.indexOf(c) > -1) {\r\n\t\t\t\t\tshouldRemoveElm = true;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn shouldRemoveElm;\r\n\t}\r\n\t_recursiveWalk(domElm, newElm, handleCss) {\r\n\t\tif (this._shouldHandleImgDataUrl && !this._isHead && domElm.tagName.toLowerCase() === 'img') {\r\n\t\t\tconst imgDataUrl = this._getImgDataUrl(domElm);\r\n\t\t\tif (imgDataUrl) {\r\n\t\t\t\tnewElm.setAttribute('src', imgDataUrl);\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\tif (!this._isHead && domElm.tagName.toLowerCase() === 'canvas') {\r\n\t\t\tconst canvasDataUrl = this._getCanvasDataUrl(domElm);\r\n\t\t\tif (canvasDataUrl) {\r\n\t\t\t\tnewElm.setAttribute('src', canvasDataUrl);\r\n\t\t\t}\r\n\t\t\tnewElm.outerHTML = newElm.outerHTML.replace(/<canvas/g, '<img');\t\t\t\r\n\t\t}\r\n\t\tif (domElm.value) {\r\n\t\t\tCapturer._handleElmValue(domElm, newElm);\r\n\t\t}\r\n\t\tif (handleCss) {\r\n\t\t\tthis._handleElmCss(domElm, newElm);\r\n\t\t\tif (this._options.tagsOfSkippedElementsForChildTreeCssHandling && this._options.tagsOfSkippedElementsForChildTreeCssHandling.indexOf(domElm.tagName.toLowerCase()) > -1) {\r\n\t\t\t\thandleCss = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (domElm.children) {\r\n\t\t\tfor (let i = domElm.children.length - 1; i >= 0; i--) {\r\n\t\t\t\tif (this._shouldIgnoreElm(domElm.children[i])) {\r\n\t\t\t\t\tnewElm.removeChild(newElm.children[i]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._recursiveWalk(domElm.children[i], newElm.children[i], handleCss);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t_createNewHtml() {\r\n\t\tconst newHtml = this._doc.documentElement.cloneNode(false);\r\n\t\tthis._handleElmCss(this._doc.documentElement, newHtml);\r\n\t\treturn newHtml;\r\n\t}\r\n\t_appendNewHead(newHtml) {\r\n\t\tconst newHead = this._doc.head.cloneNode(true);\r\n\t\tthis._isHead = true;\r\n\t\tthis._recursiveWalk(this._doc.head, newHead, false);\r\n\t\tnewHtml.appendChild(newHead);\r\n\t}\r\n\t_appendNewBody(newHtml) {\r\n\t\tconst newBody = this._doc.body.cloneNode(true);\r\n\t\tthis._isHead = false;\r\n\t\tthis._recursiveWalk(this._doc.body, newBody, true);\r\n\t\tnewHtml.appendChild(newBody);\r\n\t}\r\n\t_getHtmlObject() {\r\n\t\tconst newHtml = this._createNewHtml();\r\n\t\tthis._appendNewHead(newHtml);\r\n\t\tthis._appendNewBody(newHtml);\r\n\t\tthis._appendNewStyle(newHtml);\r\n\t\treturn newHtml;\r\n\t}\r\n\t_prepareOutput(newHtmlObject, outputType) {\r\n\t\tlet output = null;\r\n\t\tconst outputTypeEnum = new OutputTypeEnum();\r\n\t\tif (!outputType || (outputType.toLowerCase() === outputTypeEnum.OBJECT)) {\r\n\t\t\toutput = newHtmlObject;\r\n\t\t} else {\r\n\t\t\tconst outerHtml = (newHtmlObject ? (newHtmlObject.outerHTML) : '') || '';\r\n\t\t\tif (outerHtml) {\r\n\t\t\t\tif (outputType.toLowerCase() === outputTypeEnum.STRING) {\r\n\t\t\t\t\toutput = outerHtml;\r\n\t\t\t\t} else if (outputType.toLowerCase() === outputTypeEnum.URI) {\r\n\t\t\t\t\toutput = Encoder.uriEncode(outerHtml);\r\n\t\t\t\t} else if (outputType.toLowerCase() === outputTypeEnum.BASE64) {\r\n\t\t\t\t\toutput = Encoder.base64Encode(outerHtml);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toutput = output || '';\r\n\t\t}\r\n\t\tif (this._logger.isDebug()) {\r\n\t\t\tthis._logger.debug(`output: ${output.outerHTML ? output.outerHTML : output}`);\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\tcapture(outputType, htmlDocument, options) {\r\n\t\tlet output = null;\r\n\t\tconst startTime = (new Date()).getTime();\r\n\t\ttry {\r\n\t\t\tthis._overrideOptions(options);\r\n\t\t\tthis._doc = htmlDocument || document;\r\n\t\t\tthis._logger.setLogLevel(this._options.logLevel);\r\n\t\t\tthis._logger.info(`capture() outputType: ${outputType} - start`);\r\n\t\t\tconst newHtmlObject = this._getHtmlObject();\r\n\t\t\toutput = this._prepareOutput(newHtmlObject, outputType);\r\n\t\t} catch(ex) {\r\n\t\t\tthis._logger.error(`capture() - error - ${ex.message}`);\r\n\t\t} finally {\r\n\t\t\tthis._logger.info(`capture() - end - ${(new Date()).getTime() - startTime}ms`);\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/capturer.js","export default class Logger {\r\n\tconstructor() {\r\n\t\tthis._logLevelNames = ['debug', 'info', 'warn', 'error', 'fatal', 'off'];\r\n\t\tthis.init();\r\n\t}\r\n\tinit() {\r\n\t\tthis._logLevel = this._logLevelNames.indexOf('warn');\r\n\t}\r\n\tsetLogLevel(levelName) {\r\n\t\tif (levelName && (this._logLevelNames.indexOf(levelName.toLowerCase()) !== -1)) {\r\n\t\t\tthis._logLevel = this._logLevelNames.indexOf(levelName.toLowerCase());\r\n\t\t}\r\n\t}\r\n\t_log(msg, levelName) {\r\n\t\tif (this._logLevel <= this._logLevelNames.indexOf(levelName)) {\r\n\t\t\tconsole.log('|html-screen-capture-js|' + levelName + '| ' + msg);\r\n\t\t}\r\n\t}\r\n\tisDebug() {\r\n\t\treturn this._logLevel === this._logLevelNames.indexOf('debug');\r\n\t}\r\n\tdebug(msg) {\r\n\t\tthis._log(msg, 'debug');\r\n\t};\r\n\tinfo(msg) {\r\n\t\tthis._log(msg, 'info');\r\n\t};\r\n\twarn(msg) {\r\n\t\tthis._log(msg, 'warn');\r\n\t};\r\n\terror(msg) {\r\n\t\tthis._log(msg, 'error');\r\n\t};\r\n\tfatal(msg) {\r\n\t\tthis._log(msg, 'fatal');\r\n\t};\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/logger.js","export default class Encoder {\r\n\tconstructor() {\r\n\t}\r\n\tstatic _utf8_encode(str) {\r\n\t\tstr = str.replace(/\\r\\n/g,'\\n');\r\n\t\tlet utfText = '';\r\n\t\tfor (let n = 0; n < str.length; n++) {\r\n\t\t\tconst c = str.charCodeAt(n);\r\n\t\t\tif (c < 128) {\r\n\t\t\t\tutfText += String.fromCharCode(c);\r\n\t\t\t} else if((c > 127) && (c < 2048)) {\r\n\t\t\t\tutfText += String.fromCharCode((c >> 6) | 192);\r\n\t\t\t\tutfText += String.fromCharCode((c & 63) | 128);\r\n\t\t\t} else {\r\n\t\t\t\tutfText += String.fromCharCode((c >> 12) | 224);\r\n\t\t\t\tutfText += String.fromCharCode(((c >> 6) & 63) | 128);\r\n\t\t\t\tutfText += String.fromCharCode((c & 63) | 128);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn utfText;\r\n\t}\r\n\tstatic base64Encode(str) {\r\n\t\tlet output = '';\r\n\t\tconst keyStr = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n\t\tlet chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n\t\tlet i = 0;\r\n\t\tstr = Encoder._utf8_encode(str);\r\n\t\twhile (i < str.length) {\r\n\t\t\tchr1 = str.charCodeAt(i++);\r\n\t\t\tchr2 = str.charCodeAt(i++);\r\n\t\t\tchr3 = str.charCodeAt(i++);\r\n\t\t\tenc1 = chr1 >> 2;\r\n\t\t\tenc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n\t\t\tenc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n\t\t\tenc4 = chr3 & 63;\r\n\t\t\tif (isNaN(chr2)) {\r\n\t\t\t\tenc3 = enc4 = 64;\r\n\t\t\t} else if (isNaN(chr3)) {\r\n\t\t\t\tenc4 = 64;\r\n\t\t\t}\r\n\t\t\toutput = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\tstatic uriEncode(str) {\r\n\t\treturn (str ? encodeURI(str) : '') || '';\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/encoder.js"],"sourceRoot":""}